<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::body})}">
<body>

<div style="max-width: 400px; margin: 40px auto;">
    <h2>Register</h2>

    <div th:if="${param.error}">
        <p style="color: red;">Registration failed</p>
    </div>
    <div th:if="${error}">
        <p style="color: red;" th:text="${error}"></p>
    </div>
    <div th:if="${param.registered}">
        <p style="color: green;">Registration successful, you can now log in.</p>
    </div>

    <form th:action="@{/register}" method="post" th:object="${form}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <div style="margin-bottom: 10px;">
            <label for="email">Email</label><br/>
            <input type="email" id="email" th:field="*{email}" required/>
        </div>

        <div style="margin-bottom: 10px;">
            <label for="fullName">Full name</label><br/>
            <input type="text" id="fullName" th:field="*{fullName}"/>
        </div>

        <div style="margin-bottom: 10px;">
            <label for="password">Password</label><br/>
            <input type="password" id="password" th:field="*{password}" required/>
        </div>

        <div style="margin-bottom: 20px;">
            <label for="confirmPassword">Confirm password</label><br/>
            <input type="password" id="confirmPassword" th:field="*{confirmPassword}" required/>
        </div>

        <button type="submit">Create account</button>
    </form>
</div>

</body>
</html>
